{"version":3,"file":"index.cjs","sources":["../src/index.ts"],"sourcesContent":["import { type XRPLBaseWallet, XRPLWalletAccount } from '@xrpl-wallet-adapter/base'\nimport {\n  type StandardConnectFeature,\n  type StandardConnectMethod,\n  type StandardEventsFeature,\n  type StandardEventsListeners,\n  type StandardEventsNames,\n  type StandardEventsOnMethod,\n  type XRPLIdentifierString,\n  type XRPLSignAndSubmitTransactionFeature,\n  type XRPLSignAndSubmitTransactionMethod,\n  type XRPLSignTransactionFeature,\n  type XRPLSignTransactionMethod,\n  type XRPLStandardIdentifier,\n  XRPL_MAINNET,\n} from '@xrpl-wallet-standard/core'\nimport { XrplDefinitions, type XrplDefinitionsBase, encode, encodeForSigning } from 'ripple-binary-codec'\nimport { sign } from 'ripple-keypairs'\nimport { Client, type LedgerEntryRequest, type LedgerEntryResponse, Wallet } from 'xrpl'\nimport type { Amendments } from 'xrpl/dist/npm/models/ledger'\n\nconst LOCAL_STORAGE_KEY = '@xrpl-wallet-adapter/local-testonly'\n\ninterface LocalWalletProps {\n  additionalNetworks?: Record<XRPLStandardIdentifier, { server: string; faucet: string }>\n  autoFaucetNetwork?: XRPLIdentifierString\n}\n\nexport class LocalWallet_TESTONLY implements XRPLBaseWallet {\n  #name = 'Local'\n  #icon =\n    'data:image/png;base64,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' as const\n\n  #accounts: XRPLWalletAccount[] = []\n\n  #additionalNetworks: Record<XRPLStandardIdentifier, { server: string; faucet: string }>\n  #autoFaucetNetwork: XRPLIdentifierString\n\n  readonly #listeners: { [E in StandardEventsNames]?: StandardEventsListeners[E][] } = {}\n\n  get version() {\n    return '1.0.0' as const\n  }\n\n  get name() {\n    return this.#name\n  }\n\n  get icon() {\n    return this.#icon\n  }\n\n  get chains() {\n    return [XRPL_MAINNET]\n  }\n\n  get features(): StandardConnectFeature &\n    StandardEventsFeature &\n    XRPLSignTransactionFeature &\n    XRPLSignAndSubmitTransactionFeature {\n    return {\n      'standard:connect': {\n        version: '1.0.0',\n        connect: this.#connect,\n      },\n      'standard:events': {\n        version: '1.0.0',\n        on: this.#on,\n      },\n      'xrpl:signTransaction': {\n        version: '1.0.0',\n        signTransaction: this.#signTransaction,\n      },\n      'xrpl:signAndSubmitTransaction': {\n        version: '1.0.0',\n        signAndSubmitTransaction: this.#signAndSubmitTransaction,\n      },\n    }\n  }\n\n  get accounts() {\n    return this.#accounts\n  }\n\n  constructor({ additionalNetworks = {}, autoFaucetNetwork = 'xrpl:1' }: LocalWalletProps = {}) {\n    this.#additionalNetworks = additionalNetworks\n    this.#autoFaucetNetwork = autoFaucetNetwork\n\n    if (new.target === LocalWallet_TESTONLY) {\n      Object.freeze(this)\n    }\n  }\n\n  #connect: StandardConnectMethod = async ({ silent = false } = {}) => {\n    const secret = localStorage.getItem(LOCAL_STORAGE_KEY)\n    if (!silent && !secret) {\n      const seed = Wallet.generate().seed\n      localStorage.setItem('@xrpl-wallet-adapter/local-testonly', seed!)\n    }\n\n    const account = this.#getAccount()\n    if (!account) {\n      this.#emit('change', { accounts: [] })\n      return { accounts: [] }\n    }\n\n    const server = this.#getWssEndpointFromNetwork(this.#autoFaucetNetwork)\n    const client = new Client(server)\n    client.apiVersion = 1\n    await client.connect()\n\n    const response = await client\n      .request({\n        command: 'account_info',\n        account: account.address,\n        ledger_index: 'validated',\n      })\n      .catch((e) => {\n        if (e.message === 'Account not found.') return undefined\n        throw e\n      })\n    await client.disconnect()\n\n    const Sequence = response?.result.account_data.Sequence\n    if (!Sequence) {\n      // faucet\n      const faucetUrl = this.#getFaucetEndpointFromNetwork(this.#autoFaucetNetwork)\n      await fetch(faucetUrl, {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ destination: account.address }),\n      })\n    }\n\n    this.#accounts = [new XRPLWalletAccount(account.address)]\n    this.#emit('change', { accounts: this.accounts })\n    return {\n      accounts: this.accounts,\n    }\n  }\n\n  #signTransaction: XRPLSignTransactionMethod = async ({ tx_json, account, network }) => {\n    const acc = this.#getAccount()\n    if (!acc) throw new Error('Wallet not connected')\n\n    const server = this.#getWssEndpointFromNetwork(network)\n\n    const client = new Client(server)\n    client.apiVersion = 1\n    await client.connect()\n\n    const { result: rawDefinitions } = await client.request({\n      command: 'server_definitions',\n    })\n    const definitions = new XrplDefinitions(JSON.parse(JSON.stringify(rawDefinitions)))\n    const prepared = await this.#autofill(client, tx_json, acc, definitions)\n    await client.disconnect()\n\n    const tx_blob = encodeForSigning(prepared, definitions)\n\n    const signedTransaction = sign(tx_blob, acc.privateKey)\n\n    return {\n      signed_tx_blob: signedTransaction,\n    }\n  }\n\n  #signAndSubmitTransaction: XRPLSignAndSubmitTransactionMethod = async ({ tx_json, account, network }) => {\n    const acc = this.#getAccount()\n    if (!acc) throw new Error('Wallet not connected')\n\n    const server = this.#getWssEndpointFromNetwork(network)\n\n    const client = new Client(server)\n    client.apiVersion = 1\n    await client.connect()\n\n    const { result: rawDefinitions } = await client.request({\n      command: 'server_definitions',\n    })\n    const definitions = new XrplDefinitions(JSON.parse(JSON.stringify(rawDefinitions)))\n    const prepared = await this.#autofill(client, tx_json, acc, definitions)\n\n    prepared.SigningPubKey = acc.publicKey\n    const signature = sign(encodeForSigning(prepared, definitions), acc.privateKey)\n    prepared.TxnSignature = signature\n    const tx_blob = encode(prepared, definitions)\n\n    const response = await client.submitAndWait(tx_blob)\n\n    console.log(response.result)\n\n    return {\n      tx_json: response.result as any,\n      tx_hash: response.result.hash,\n    }\n  }\n\n  #on: StandardEventsOnMethod = (event, listener) => {\n    if (this.#listeners[event]) this.#listeners[event]?.push(listener)\n    else this.#listeners[event] = [listener]\n    return (): void => this.#off(event, listener)\n  }\n\n  #emit<E extends StandardEventsNames>(event: E, ...args: Parameters<StandardEventsListeners[E]>): void {\n    this.#listeners[event]?.forEach((listener) => listener.apply(null, args))\n  }\n\n  #off<E extends StandardEventsNames>(event: E, listener: StandardEventsListeners[E]): void {\n    this.#listeners[event] = this.#listeners[event]?.filter((existingListener) => listener !== existingListener)\n  }\n\n  #autofill = async (\n    client: Client,\n    transaction: Record<string, any>,\n    account: Wallet,\n    definitions: XrplDefinitionsBase,\n  ) => {\n    if (transaction.Account && transaction.Account !== account.address) throw new Error('Account does not match')\n    if (!transaction.Account) transaction.Account = account.address\n\n    if (!transaction.Sequence) {\n      const accountResponse = await client.request({\n        command: 'account_info',\n        account: account.address,\n      })\n      if (!transaction.Sequence) transaction.Sequence = accountResponse.result.account_data.Sequence\n    }\n    if (!transaction.LastLedgerSequence) {\n      const response = await client.request({\n        command: 'ledger',\n        ledger_index: 'validated',\n      })\n      const ledgerIndex = response.result.ledger_index\n      transaction.LastLedgerSequence = ledgerIndex + 5\n    }\n    const networkID = client.networkID\n    if (transaction.NetworkID && transaction.NetworkID !== networkID) throw new Error('NetworkID does not match')\n    if (!transaction.NetworkID && networkID !== undefined && networkID > 1024) transaction.NetworkID = networkID\n\n    if (transaction.Fee === undefined) {\n      const {\n        result: { node: amendments },\n      } = await client.request<LedgerEntryRequest, 1, LedgerEntryResponse<Amendments>>({\n        command: 'ledger_entry',\n        index: '7DB0788C020F02780A673DC74757F23823FA3014C1866E72CC4CD8B226CD6EF4',\n        validated: true,\n      })\n      const hasHookAmendment =\n        !!amendments?.Amendments &&\n        amendments.Amendments.indexOf('ECE6819DBA5DB528F1A241695F5A9811EF99467CDE22510954FD357780BBD078') > -1\n      const tx_blob = hasHookAmendment\n        ? encode({ ...transaction, SigningPubKey: '', Fee: '0' }, definitions)\n        : undefined\n\n      const response = await client.request({\n        command: 'fee',\n        tx_blob,\n      })\n      transaction.Fee = response.result.drops.open_ledger_fee\n    }\n    return transaction\n  }\n\n  #getAccount() {\n    const seed = localStorage.getItem(LOCAL_STORAGE_KEY)\n    if (!seed) return null\n    const wallet = Wallet.fromSeed(seed)\n    return wallet\n  }\n\n  #getWssEndpointFromNetwork(network: XRPLIdentifierString) {\n    switch (network) {\n      case 'xrpl:mainnet':\n      case 'xrpl:0':\n        throw new Error('Cannnot use mainnet with this Wallet')\n      case 'xrpl:testnet':\n      case 'xrpl:1':\n        return 'wss://s.altnet.rippletest.net:51233'\n      case 'xrpl:devnet':\n      case 'xrpl:2':\n        return 'wss://s.devnet.rippletest.net:51233'\n      case 'xrpl:xahau-mainnet':\n      case 'xrpl:21337':\n        throw new Error('Cannnot use xahau mainnet with this Wallet')\n      case 'xrpl:xahau-testnet':\n      case 'xrpl:21338':\n        return 'wss://xahau-test.net'\n      case 'xrpl:31338':\n        return 'wss://jshooks.xahau-test.net'\n      default:\n        if (this.#additionalNetworks[network]) return this.#additionalNetworks[network].server\n        throw new Error('Invalid network')\n    }\n  }\n\n  #getFaucetEndpointFromNetwork(network: XRPLIdentifierString) {\n    switch (network) {\n      case 'xrpl:mainnet':\n      case 'xrpl:0':\n        throw new Error('Cannnot use mainnet with this Wallet')\n      case 'xrpl:testnet':\n      case 'xrpl:1':\n        return 'https://faucet.altnet.rippletest.net/accounts'\n      case 'xrpl:devnet':\n      case 'xrpl:2':\n        return 'https://faucet.devnet.rippletest.net/accounts'\n      case 'xrpl:xahau-mainnet':\n      case 'xrpl:21337':\n        throw new Error('Cannnot use xahau mainnet with this Wallet')\n      case 'xrpl:xahau-testnet':\n      case 'xrpl:21338':\n        return 'https://xahau-test.net/accounts'\n      case 'xrpl:31338':\n        return 'https://jshooks.xahau-test.net/newcreds'\n      default:\n        if (this.#additionalNetworks[network]) return this.#additionalNetworks[network].faucet\n        throw new Error('Invalid network')\n    }\n  }\n}\n"],"names":["XRPL_MAINNET","Wallet","Client","XRPLWalletAccount","XrplDefinitions","encodeForSigning","sign","encode"],"mappings":"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"}